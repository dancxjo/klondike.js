<!doctypne html>
<html>
	<head>
		<meta charset="UTF-8">
		<link rel="stylesheet" type="text/css" href="cards.css" media="screen" />
		<script src="mvc.js"></script>
		<script src="cards.js"></script>
		<script src="stacks.js"></script>
	</head>
	<body>
		<script>
			var dragStack = [];
		
			var deck = new Stack();
			deck.generateDeck();
			deck.shuffle();
			
			var table = new Stack("table");
			
			deck.addHandler("click", function (ev, deck) {
				if (deck.children.length > 0) {
					var card = deck.pop();
					card.flip();
					table.push(card);
				} else {
					while (table.children.length > 0) {
						var card = table.pop();
						card.flip();
						deck.push(card);
					}
				}
			});
			
			var foundations = [
				new Stack("foundation"),
				new Stack("foundation"),
				new Stack("foundation"),
				new Stack("foundation")
			];
			
			for (var i = 0; i < foundations.length; i++) {
				foundations[i].addHandler("drop", function (ev, stack) {
					for (var i = 0; i < dragStack.length; i++) {
						
					}
				});
				document.body.appendChild(foundations[i].element);
			}
			
			document.body.appendChild(table.element);
			document.body.appendChild(deck.element);

		</script>
	</body>
</html>
